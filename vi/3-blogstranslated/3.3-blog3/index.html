<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>AWS Lambda chuẩn hóa việc tính phí cho giai đoạn INIT :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765476341 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765476341 rel=stylesheet><link href=../../../css/hybrid.css?1765476341 rel=stylesheet><link href=../../../css/featherlight.min.css?1765476341 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765476341 rel=stylesheet><link href=../../../css/auto-complete.css?1765476341 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765476341 rel=stylesheet><link href=../../../css/theme.css?1765476341 rel=stylesheet><link href=../../../css/hugo-theme.css?1765476341 rel=stylesheet><link href=../../../css/theme-workshop.css?1765476341 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765476341></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765476341></script><script type=text/javascript src=../../../js/auto-complete.js?1765476341></script><script type=text/javascript>var baseurl="https://quangbom16.github.io/full-workshop//vi"</script><script type=text/javascript src=../../../js/search.js?1765476341></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Báo cáo Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Báo cáo Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Báo cáo Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Báo cáo Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Báo cáo Tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Báo cáo Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Báo cáo Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Báo cáo Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Báo cáo Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Báo cáo Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Báo cáo Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Báo cáo Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Báo cáo Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Báo cáo Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Báo cáo Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Báo cáo Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Báo cáo Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Báo cáo Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Báo cáo Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Báo cáo Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Báo cáo Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12. </b>Báo cáo Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Tự động hóa báo cáo kiểm tra AWS Private CA và cảnh báo hết hạn chứng chỉ" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Tự động hóa báo cáo kiểm tra AWS Private CA và cảnh báo hết hạn chứng chỉ
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Thông báo thế hệ thứ hai của AWS Outposts racks với hiệu suất và khả năng mở rộng đột phá tại cơ sở" class=dd-item><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Thông báo thế hệ thứ hai của AWS Outposts racks với hiệu suất và khả năng mở rộng đột phá tại cơ sở
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="AWS Lambda chuẩn hóa việc tính phí cho giai đoạn INIT" class="dd-item
active"><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>AWS Lambda chuẩn hóa việc tính phí cho giai đoạn INIT
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các sự kiện đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các sự kiện đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Sự kiện: Workshop AI/ML/GenAI trên AWS" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Sự kiện: Workshop AI/ML/GenAI trên AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Sự kiện: Workshop DevOps trên AWS" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Sự kiện: Workshop DevOps trên AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Sự kiện: Workshop AWS Well-Architected Security Pillar" class=dd-item><a href=../../../vi/4-eventparticipated/4.3-event3/><b>4.3. </b>Sự kiện: Workshop AWS Well-Architected Security Pillar
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Tổng Quan Workshop" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Tổng Quan Workshop
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Yêu Cầu Tiên Quyết" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Yêu Cầu Tiên Quyết
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-infrastructure-setup/ title="Thiết Lập Hạ Tầng" class=dd-item><a href=../../../vi/5-workshop/5.3-infrastructure-setup/><b>5.3 </b>Thiết Lập Hạ Tầng
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.3-infrastructure-setup/5.3.1-deploy/ title="Triển khai Hạ tầng" class=dd-item><a href=../../../vi/5-workshop/5.3-infrastructure-setup/5.3.1-deploy/><b>5.3.1. </b>Triển khai Hạ tầng
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-infrastructure-setup/5.3.2-checking/ title="Kiểm tra bằng AWS console" class=dd-item><a href=../../../vi/5-workshop/5.3-infrastructure-setup/5.3.2-checking/><b>5.3.2. </b>Kiểm tra bằng AWS console
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-infrastructure-setup/5.3.3-application-demonstration/ title="Trình diễn ứng dụng" class=dd-item><a href=../../../vi/5-workshop/5.3-infrastructure-setup/5.3.3-application-demonstration/><b>5.3.3 </b>Trình diễn ứng dụng
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.4-clean-up/ title="Dọn dẹp" class=dd-item><a href=../../../vi/5-workshop/5.4-clean-up/><b>5.4. </b>Dọn dẹp
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia Sẻ và Phản Hồi" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia Sẻ và Phản Hồi
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://quangbom16.github.io/full-workshop/3-blogstranslated/3.3-blog3/>English</option><option id=vi value=https://quangbom16.github.io/full-workshop/vi/3-blogstranslated/3.3-blog3/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/3-blogstranslated/>Các bài blogs đã dịch</a> > AWS Lambda chuẩn hóa việc tính phí cho giai đoạn INIT</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#tìm-hiểu-vòng-đời-thực-thi-hàm-lambda>Tìm hiểu vòng đời thực thi hàm Lambda</a></li><li><a href=#tìm-hiểu-những-thay-đổi-về-tính-phí>Tìm hiểu những thay đổi về tính phí</a></li><li><a href=#tìm-thời-lượng-giai-đoạn-init-và-tác-động-đến-việc-tính-phí-lambda>Tìm thời lượng giai đoạn INIT và tác động đến việc tính phí Lambda</a></li><li><a href=#tìm-hiểu-và-tối-ưu-hóa-giai-đoạn-init-của-lambda>Tìm hiểu và tối ưu hóa giai đoạn INIT của Lambda</a></li><li><a href=#kết-luận>Kết luận</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>AWS Lambda chuẩn hóa việc tính phí cho giai đoạn INIT</h1><p><em>Bởi Shubham Gupta và Jeff Gebhart</em></p><ul><li><p>Bài viết gốc: <a href=https://aws.amazon.com/vi/blogs/compute/aws-lambda-standardizes-billing-for-init-phase/ target=_blank rel="noopener noreferrer">AWS Lambda standardizes billing for INIT Phase - AWS Compute Blog</a></p></li><li><p>doc: <a href="https://docs.google.com/document/d/1C4o30LDk20ZZrDsVgy-GWLDbFVYOdajqTDpOZmo0XW8/edit?usp=sharing" target=_blank rel="noopener noreferrer">GG docs</a></p></li></ul><p>Có hiệu lực từ ngày <strong>1 tháng 8 năm 2025</strong>, AWS sẽ chuẩn hóa việc tính phí cho giai đoạn khởi tạo (INIT) trên tất cả các cấu hình hàm AWS Lambda. Thay đổi này đặc biệt ảnh hưởng đến các lệnh gọi theo yêu cầu của các hàm Lambda được đóng gói dưới dạng tệp ZIP sử dụng các runtime được quản lý, mà trước đây thời lượng giai đoạn INIT không được tính phí.</p><p>Bản cập nhật này chuẩn hóa việc tính phí giai đoạn INIT trên tất cả các loại runtime, gói triển khai và chế độ gọi. Hầu hết người dùng sẽ thấy tác động tối thiểu đến tổng hóa đơn Lambda của họ từ thay đổi này, vì giai đoạn INIT thường chỉ xảy ra trong một phần rất nhỏ các lệnh gọi hàm.</p><p>Trong bài đăng này, chúng tôi thảo luận về Vòng đời hàm Lambda và những thay đổi sắp tới đối với việc tính phí giai đoạn INIT. Bạn sẽ tìm hiểu điều gì xảy ra trong giai đoạn INIT và khi nào nó xảy ra, cách giám sát thời lượng giai đoạn INIT của bạn và các chiến lược để tối ưu hóa giai đoạn này và giảm thiểu chi phí.</p><h3 id=tìm-hiểu-vòng-đời-thực-thi-hàm-lambda>Tìm hiểu vòng đời thực thi hàm Lambda</h3><p>Vòng đời thực thi hàm Lambda bao gồm ba giai đoạn riêng biệt: <strong>INIT</strong>, <strong>INVOKE</strong> và <strong>SHUTDOWN</strong>.</p><ul><li>Giai đoạn <strong>INIT</strong> được kích hoạt trong quá trình &ldquo;khởi động lạnh&rdquo; khi Lambda tạo một môi trường thực thi mới cho một hàm để phản hồi một lệnh gọi.</li><li>Tiếp theo là giai đoạn <strong>INVOKE</strong> nơi yêu cầu được xử lý.</li><li>Cuối cùng là giai đoạn <strong>SHUTDOWN</strong> nơi môi trường thực thi bị chấm dứt.</li></ul><p>Trong giai đoạn INIT, Lambda thực hiện một loạt các bước chuẩn bị trong thời gian tối đa 10 giây. Dịch vụ truy xuất mã hàm từ một S3 bucket nội bộ của Amazon, hoặc từ Amazon Elastic Container Registry (Amazon ECR) đối với các hàm sử dụng đóng gói container. Sau đó, nó cấu hình một môi trường với bộ nhớ, runtime và các cài đặt khác được chỉ định.</p><p>Khi môi trường thực thi được chuẩn bị, Lambda thực hiện bốn tác vụ chính theo trình tự:</p><ol><li>Khởi tạo bất kỳ tiện ích mở rộng nào được cấu hình (Extension INIT)</li><li>Khởi động runtime (Runtime INIT)</li><li>Thực thi mã tĩnh của hàm (Function INIT)</li><li>Chạy bất kỳ hook runtime trước checkpoint nào (chỉ áp dụng cho Lambda SnapStart)</li></ol><p><img alt="Vòng đời thực thi hàm Lambda" src=../../../images/T1.png>
<em>Hình 1: Vòng đời thực thi hàm Lambda</em></p><h3 id=tìm-hiểu-những-thay-đổi-về-tính-phí>Tìm hiểu những thay đổi về tính phí</h3><p>Phí Lambda được tính dựa trên số lượng yêu cầu và thời lượng cần thiết để mã chạy. Thời lượng được tính từ thời điểm mã hàm bắt đầu chạy cho đến khi hoàn thành hoặc chấm dứt, được làm tròn lên đến mili giây gần nhất. Chi phí thời lượng phụ thuộc vào lượng bộ nhớ bạn cấp phát cho hàm của mình.</p><p>Trước đây, thời lượng giai đoạn INIT không được bao gồm trong Billed Duration đối với các hàm sử dụng runtime được quản lý với đóng gói lưu trữ ZIP, như được chứng minh trong nhật ký Amazon CloudWatch:</p><pre tabindex=0><code>REPORT RequestId: xxxxx   Duration: 250.06 ms  Billed Duration: 251 ms  Memory Size: 1024 MB
Max Memory Used: 350 MB   Init Duration: 100.77 ms
</code></pre><p>Tuy nhiên, các hàm được cấu hình với runtime tùy chỉnh, Provisioned Concurrency (PC) hoặc đóng gói OCI đã bao gồm thời lượng giai đoạn INIT trong Billed Duration của chúng.</p><p>Có hiệu lực từ ngày <strong>1 tháng 8 năm 2025</strong>, giai đoạn INIT sẽ được tính phí trên tất cả các loại cấu hình và thời lượng giai đoạn INIT cũng sẽ được bao gồm trong Billed Duration đối với các lệnh gọi theo yêu cầu của các hàm sử dụng runtime được quản lý với đóng gói lưu trữ ZIP. Sau thay đổi này, dòng nhật ký <code>REPORT Request ID</code> sẽ hiển thị như sau:</p><pre tabindex=0><code>REPORT RequestId: xxxxx   Duration: 250.06 ms  Billed Duration: 351 ms  Memory Size: 1024 MB
Max Memory Used: 350 MB   Init Duration: 100.77 ms
</code></pre><p>Các khoản phí thời lượng giai đoạn INIT tiếp theo sẽ tuân theo giá thời lượng theo yêu cầu tiêu chuẩn dành riêng cho từng Vùng AWS, có thể tìm thấy trên trang giá Lambda. Đối với các hàm AWS Lambda@Edge, thời lượng giai đoạn INIT sẽ được tính phí theo tỷ lệ thời lượng Lambda@Edge.</p><h3 id=tìm-thời-lượng-giai-đoạn-init-và-tác-động-đến-việc-tính-phí-lambda>Tìm thời lượng giai đoạn INIT và tác động đến việc tính phí Lambda</h3><p>Bạn đã có thể giám sát thời gian dành cho giai đoạn INIT của các lệnh gọi hàm của mình thông qua dòng nhật ký &ldquo;REPORT RequestId&rdquo; trong CloudWatch Logs, bao gồm giá trị &ldquo;Init Duration&rdquo;. Ngoài ra, nếu Lambda Insights được bật, bạn có thể sử dụng chỉ số CloudWatch &ldquo;init_duration&rdquo;.</p><p>Để phân tích toàn diện hơn, bạn có thể sử dụng truy vấn <strong>CloudWatch Log Insights</strong> sau để tạo báo cáo chi tiết ước tính thời lượng giai đoạn INIT trước đây không được tính phí:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>filter <span style=color:#f92672>@</span><span style=color:#66d9ef>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;REPORT&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> stats
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>sum</span>((<span style=color:#f92672>@</span>memorySize<span style=color:#f92672>/</span><span style=color:#ae81ff>1000000</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1024</span>) <span style=color:#f92672>*</span> (<span style=color:#f92672>@</span>billedDuration<span style=color:#f92672>/</span><span style=color:#ae81ff>1000</span>)) <span style=color:#66d9ef>as</span> BilledGBs,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>sum</span>((<span style=color:#f92672>@</span>memorySize<span style=color:#f92672>/</span><span style=color:#ae81ff>1000000</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1024</span>) <span style=color:#f92672>*</span> ((<span style=color:#f92672>@</span>duration <span style=color:#f92672>+</span> <span style=color:#f92672>@</span>initDuration <span style=color:#f92672>-</span> <span style=color:#f92672>@</span>billedDuration)<span style=color:#f92672>/</span><span style=color:#ae81ff>1000</span>)) <span style=color:#66d9ef>as</span> UnbilledInitGBs,
</span></span><span style=display:flex><span>    UnbilledInitGBs <span style=color:#f92672>/</span> (UnbilledInitGBs <span style=color:#f92672>+</span> BilledGBs) <span style=color:#66d9ef>as</span> UnbilledInitRatio
</span></span></code></pre></div><p>Truy vấn CloudWatch Log Insights cung cấp ba chỉ số thiết yếu:</p><ol><li><strong>BilledGBs:</strong> Đại diện cho tổng GB-s (gigabyte-giây) hiện đang được tính phí cho các nhóm nhật ký đã chọn.</li><li><strong>UnbilledInitGBs:</strong> Hiển thị tổng GB-s tiêu thụ trong giai đoạn INIT mà trước đây không được bao gồm trong tính phí.</li><li><strong>Ratio:</strong> Cho biết tỷ lệ phần trăm tổng GB-s được gán cho thời lượng giai đoạn INIT trước đây không được tính phí.</li></ol><p><img alt="Báo cáo CloudWatch Log Insights" src=../../../images/T2.png>
<em>Hình 2: Báo cáo CloudWatch Log Insights</em></p><p>Sử dụng các khả năng giám sát hiện có này cho phép bạn chủ động đánh giá và tối ưu hóa thời gian INIT của hàm Lambda, có khả năng giảm thiểu tác động của cấu trúc thanh toán mới đến tổng chi phí của bạn.</p><h3 id=tìm-hiểu-và-tối-ưu-hóa-giai-đoạn-init-của-lambda>Tìm hiểu và tối ưu hóa giai đoạn INIT của Lambda</h3><p>Giai đoạn INIT của Lambda được kích hoạt trong hai trường hợp cụ thể: trong quá trình tạo môi trường thực thi mới và khi một hàm mở rộng quy mô để đáp ứng nhu cầu. Mã INIT này chỉ chạy trong các &ldquo;khởi động lạnh&rdquo; này và bị bỏ qua trong các lệnh gọi tiếp theo sử dụng các môi trường ấm hiện có.</p><p>Các nhà phát triển có thể sử dụng giai đoạn INIT để tạo, khởi tạo và cấu hình các đối tượng dự kiến được sử dụng lại trên nhiều lệnh gọi trong quá trình INIT hàm thay vì thực hiện nó trong trình xử lý. Khởi tạo các phụ thuộc/đối tượng được chia sẻ trước sẽ giảm độ trễ của các lệnh gọi tiếp theo. Ví dụ:</p><ul><li>Tải xuống thêm thư viện hoặc phụ thuộc.</li><li>Thiết lập kết nối máy khách với các dịch vụ AWS khác như Amazon S3 hoặc Amazon DynamoDB.</li><li>Tạo kết nối cơ sở dữ liệu để chia sẻ trên các lệnh gọi.</li><li>Truy xuất các tham số ứng dụng hoặc bí mật từ Amazon Systems Manager Parameter Store hoặc AWS Secrets Manager.</li></ul><p>Khi phát triển các hàm Lambda, điều quan trọng là phải quyết định một cách chiến lược mã nào chạy trong giai đoạn INIT so với giai đoạn xử lý, vì nó ảnh hưởng đến cả hiệu suất và chi phí.</p><h4 id=tối-ưu-hóa-kích-thước-góithư-viện>Tối ưu hóa kích thước gói/thư viện</h4><p>Ba yếu tố chính ảnh hưởng đến hiệu suất của giai đoạn INIT:</p><ol><li>Kích thước của gói hàm, về các thư viện và phụ thuộc được nhập, và các lớp Lambda.</li><li>Lượng mã và công việc INIT.</li><li>Hiệu suất của các thư viện và các dịch vụ khác trong việc thiết lập kết nối và các tài nguyên khác.</li></ol><p>Các gói hàm lớn hơn làm tăng thời gian tải xuống mã. Bạn có thể giảm thời lượng giai đoạn INIT bằng cách giảm kích thước gói, dẫn đến khởi động lạnh nhanh hơn và chi phí INIT thấp hơn. Các công cụ như <strong>esbuild</strong> có thể tối ưu hóa hiệu suất hơn nữa bằng cách thu nhỏ và đóng gói các gói.</p><h4 id=tối-ưu-hóa-việc-thực-thi-giai-đoạn-init-và-hiệu-quả-chi-phí>Tối ưu hóa việc thực thi giai đoạn INIT và hiệu quả chi phí</h4><p>Tần suất thực thi giai đoạn INIT (hoặc khởi động lạnh) tác động trực tiếp đến cả hiệu suất và hiệu quả chi phí. Theo phân tích các khối lượng công việc Lambda trong sản xuất, INIT (khởi động lạnh) thường xảy ra dưới 1% các lệnh gọi.</p><p>Bạn có thể sử dụng giai đoạn INIT để thực hiện các thao tác một lần có lợi cho các lệnh gọi tiếp theo, ví dụ như tải dữ liệu tĩnh từ Amazon S3 hoặc DynamoDB trong quá trình INIT.</p><h4 id=lambda-snapstart>Lambda SnapStart</h4><p>Lambda SnapStart cung cấp một giải pháp hiệu quả để giảm độ trễ khởi động lạnh và chi phí giai đoạn INIT. Khi được bật, SnapStart tạo một ảnh chụp nhanh trong quá trình INIT hàm đầu tiên và sử dụng lại nó cho các khởi động lạnh tiếp theo, loại bỏ nhu cầu thực thi giai đoạn INIT lặp lại. SnapStart được hỗ trợ cho các runtime Java, .NET và Python.</p><h4 id=provisioned-concurrency>Provisioned Concurrency</h4><p>Provisioned Concurrency là một tính năng của Lambda giúp khởi tạo trước môi trường thực thi trước khi bất kỳ lệnh gọi nào xảy ra. Phương pháp chủ động này loại bỏ hiệu quả tác động hiệu suất của giai đoạn INIT đối với các lệnh gọi hàm riêng lẻ. Từ góc độ tối ưu hóa chi phí, Provisioned Concurrency phù hợp nhất cho các khối lượng công việc có mẫu sử dụng bền vững trên 60%.</p><h3 id=kết-luận>Kết luận</h3><p>Có hiệu lực từ ngày <strong>1 tháng 8 năm 2025</strong>, AWS đang chuẩn hóa việc tính phí giai đoạn INIT cho AWS Lambda. AWS cung cấp nhiều cách để bạn tối ưu hóa cả hiệu suất và chi phí của các hàm Lambda của mình. Cho dù bạn đang sử dụng SnapStart, triển khai Provisioned Concurrency hay tối ưu hóa mã INIT, chúng tôi khuyên bạn nên làm việc chặt chẽ với các nhóm hỗ trợ của AWS để xác định phương pháp tối ưu hóa phù hợp nhất cho các yêu cầu khối lượng công việc cụ thể của bạn.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/3-blogstranslated/3.2-blog2/ title="Thông báo thế hệ thứ hai của AWS Outposts racks với hiệu suất và khả năng mở rộng đột phá tại cơ sở"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/4-eventparticipated/ title="Các sự kiện đã tham gia" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765476341></script><script src=../../../js/perfect-scrollbar.min.js?1765476341></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765476341></script><script src=../../../js/jquery.sticky.js?1765476341></script><script src=../../../js/featherlight.min.js?1765476341></script><script src=../../../js/highlight.pack.js?1765476341></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765476341></script><script src=../../../js/learn.js?1765476341></script><script src=../../../js/hugo-learn.js?1765476341></script><link href=../../../mermaid/mermaid.css?1765476341 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765476341></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>